<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="assets/css/bootstrap.css" rel="stylesheet" media="screen">

    <style type="text/css">
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }

        #entries .accordion-heading {
            background-color: #e5e5e5;
        }

        #entries .accordion-heading .unread {
            font-weight: bold;
        }
    </style>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>

    <script>
        $(document).ready(function () {
            $.ajax({
                url: "/api/entries",
                dataType: "json",
                success: function (data) {
                    $.each(data, function (index, entry) {
                        var $entry = $("<div class='accordion-group' />").appendTo("#entries");
                        $("<div class='accordion-heading' />").appendTo($entry).append(
                                $("<span class='accordion-toggle unread'/>")
                                        .append($("<i class='icon-star icon-white'/>"))
                                        .append($("<span/>").text(entry.title))
                                        .append($("<i class='icon-globe pull-right'/>")));
                        var $entryContent = $("<div class='accordion-body' />").appendTo($entry);

                        var content = entry.summary ? entry.summary.value : entry.content && entry.content.length ? entry.content[0].value : "";
                        $entryContent.html($("<div class='accordion-inner' />").html(content));
                    });
                }
            });
        });
    </script>
</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="brand" href="#">Aggregator</a>
            <ul class="nav pull-right">
                <li class="divider-vertical"></li>
                <li><a id="refresh" href="#"><i class="icon-refresh icon-white"></i> Refresh</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div id="entries" class="accordion">
    </div>
</div>

</body>
</html>
